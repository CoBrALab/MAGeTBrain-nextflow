params {
    primarySpectra = 'T1w'
    inputDir = 'inputs'
    outputDir = 'output'
    custom_config_version = 'master'
    custom_config_base = "https://raw.githubusercontent.com/nf-core/configs/${params.custom_config_version}"

}
try {
    includeConfig "${params.custom_config_base}/nfcore_custom.config"
} catch (Exception e) {
    System.err.println("WARNING: Could not load nf-core/configs")
}


profiles {
    standard {
      process {
        container = 'ghcr.io/cobralab/magetbrain-nextflow:master'
        executor = 'local'
      }
      apptainer.enabled = true
    }

    alliance_extended{
      process {

        cpus = 40
        time = '1h'

        withName: registerAffine {
          cpus = 20
          time = '3h' 
        }
        withName: registerNonlinear {
          cpus = 8
          time = '5h' 
        }
        withName: resampleLabel {
          cpus = 40
          time = 15.min
        }
        withName: majorityVote {
          cpus = 20
          time = 15.min
        }
      }
    }
}

process {
  errorStrategy = 'finish'
  cache = 'lenient'
}

report {
  enabled = true
}

dag {
  enabled = true
  verbose = true
}

timeline {
  enabled = true
}
