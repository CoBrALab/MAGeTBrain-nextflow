params {
    primarySpectra = 'T1w'
    inputDir = 'inputs'
    outputDir = 'output'
    custom_config_version = 'master'
    custom_config_base = "https://raw.githubusercontent.com/nf-core/configs/${params.custom_config_version}"

}
try {
    includeConfig "${params.custom_config_base}/nfcore_custom.config"
} catch (Exception e) {
    System.err.println("WARNING: Could not load nf-core/configs")
}


profiles {
    standard {
      process {
        container = 'ghcr.io/cobralab/magetbrain-nextflow:master'
        executor = 'local'
      }
      apptainer.enabled = true
    }

    alliance_extended{
      process {

        cpus = 32
        time = '15.min'

        withName: registerAffine {
          cpus = 16
          time = '15.min' 
        }
        withName: registerNonlinear {
          cpus = 64
          time = '2.5h' 
        }
        withName: resampleLabel {
          cpus = 16
          time = 15.min
        }
        withName: majorityVote {
          cpus = 16
          time = 15.min
        }
      }
    }
}

process {
  errorStrategy = 'finish'
  cache = 'lenient'
}

report {
  enabled = true
}

dag {
  enabled = true
  verbose = true
}

timeline {
  enabled = true
}
